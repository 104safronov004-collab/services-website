<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Страница услуг: добавляйте в корзину платные и бесплатные сервисы.">
    <title>Услуги</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<header>
    <nav>
        <div class="logo">Услуги Онлайн</div>
        <ul class="menu">
            <li><a href="index.html">Главная</a></li>
            <li><a href="services.html">Услуги</a></li>
            <li><a href="contact.html">Контакты</a></li>
            <li><a href="terms.html">Условия использования</a></li>
        </ul>
    </nav>
</header>

<main>
    <h1>Наши услуги</h1>
    <div class="services-container">
        <div class="service" data-page="service1.html">
            <h3>Услуга 1</h3>
            <p>Краткое описание услуги 1.</p>
            <button class="buy-btn">Ознакомиться и купить</button>
            <button class="try-free-btn">Пробовать бесплатно</button>
        </div>

        <div class="service" data-page="service2.html">
            <h3>Услуга 2</h3>
            <p>Краткое описание услуги 2.</p>
            <button class="buy-btn">Ознакомиться и купить</button>
            <button class="try-free-btn">Пробовать бесплатно</button>
        </div>

        <div class="service" data-page="service3.html">
            <h3>Услуга 3</h3>
            <p>Краткое описание услуги 3.</p>
            <button class="buy-btn">Ознакомиться и купить</button>
            <button class="try-free-btn">Пробовать бесплатно</button>
        </div>
    </div>
</main>

<button id="toTopBtn" title="Наверх">⬆️</button>

<footer>
    <p>&copy; 2026 Услуги Онлайн</p>
</footer>

<script src="js/main.js"></script>

<!-- VarioQub experiments -->
<script type="text/javascript">
(function(e, x, pe, r, i, me, nt){
    e[i]=e[i]||function(){(e[i].a=e[i].a||[]).push(arguments)},
    me=x.createElement(pe),me.async=1,me.src=r,nt=x.getElementsByTagName(pe)[0],
    me.addEventListener('error',function(){function cb(t){t=t[t.length-1],
    'function'==typeof t&&t({flags:{}})};Array.isArray(e[i].a)&&e[i].a.forEach(cb);
    e[i]=function(){cb(arguments)}}),nt.parentNode.insertBefore(me,nt)})
(window, document, 'script', 'https://abt.s3.yandex.net/expjs/latest/exp.js', 'ymab');

ymab('metrika.106324646', 'init', function() {
    // получаем флаг эксперимента
    ymab('getFlags', ['exp_show_free_button'], function(flags) {
        var expEnabled = flags.exp_show_free_button === 'enabled'; // если эксп включен
        if(!expEnabled) return; // если эксперимент отключен, ничего не показываем

        // получаем UUID пользователя (VarioQub или генерируем временно)
        ymab('getClientInfo', function(info){
            var uuid = info.user_id || '00000000'; // fallback
            var lastChar = uuid.slice(-1).toLowerCase();

            // пользователь вне эксперимента
            if(lastChar === 'f') return;

            // проверяем четность последнего символа
            var lastDigit = parseInt(lastChar, 16); // hex -> int
            var showButton = !isNaN(lastDigit) && (lastDigit % 2 === 0);

            document.querySelectorAll('.try-free-btn').forEach(function(btn){
                btn.style.display = showButton ? 'inline-block' : 'none';
            });
        });
    });
});
</script>
</body>
</html>
